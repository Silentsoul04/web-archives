<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ru">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Debian -- Пример автоматического аудита: RATS </title>
  <link rel="author" href="mailto:webmaster@debian.org">
  <meta name="Generator" content="WML 2.12.2">
  <meta name="Modified" content="2021-06-11 18:55:42">
  <meta name="viewport" content="width=device-width">
  <meta name="mobileoptimized" content="300">
  <meta name="HandheldFriendly" content="true">
<link href="../../../debian.css" rel="stylesheet" type="text/css">
  <link href="../../../debian-ru.css" rel="stylesheet" type="text/css" media="all">
<link rel="search" type="application/opensearchdescription+xml" title="Поиск по веб-сайту Debian" href="../../../search.ru.xml">
</head>
<body>
<div id="header">
  <div id="upperheader">
    <div id="logo">
    <a href="../../../" title="Домашняя страница Debian"><img src="../../../Pics/openlogo-50.png" alt="Debian"></a>
    </div> <!-- end logo -->
    <div id="searchbox">
      <form name="p" method="get" action="https://search.debian.org/cgi-bin/omega">
      <p>
<input type="hidden" name="DB" value="ru">
        <input name="P" value="" size="14">
        <input type="submit" value="Поиск">
      </p>
      </form>
    </div>   <!-- end sitetools -->
  </div> <!-- end upperheader -->
  <!--UdmComment-->
  <div id="navbar">
    <p class="hidecss"><a href="#content">Пропустить QuickNav</a></p>
    <ul>
      <!-- Link to Debian's own Social Media resources -->
      <li><a href="https://bits.debian.org/" title="Bits from Debian">Blog</a></li>
      <li><a href="https://micronews.debian.org" title="Micronews from Debian">Micronews</a></li>
      <li><a href="https://planet.debian.org/" title="The Planet of Debian">Planet</a></li>
    </ul>
  </div> <!-- end navbar -->
<p id="breadcrumbs"><a href="./../../">Информация по безопасности</a>
 &#x2F; <a href="./../">Проект Debian Security Audit (по аудиту безопасности Debian)</a>
 &#x2F; <a href="./">Примеры автоматического аудита</a>
 &#x2F;
Пример автоматического аудита: RATS</p>
</div> <!-- end header -->
<!--/UdmComment-->
<div id="content">
<h1>Пример автоматического аудита: RATS</h1>
<p><a href="https://packages.debian.org/rats">RATS</a> &mdash; сканер общего назначения для обнаружения потенциальных проблем безопасности в исходном коде (поддерживается несколько языков программирования).</p>
<h2>Запуск RATS</h2>
<p>Запуск RATS довольно прост. Следует вызвать команду rats с указанием каталога, который нужно проверить. Каждый файл с исходным кодом, который будет обнаружен в этом каталоге, будет проверен. RATS понимает несколько языков программирования: C, Perl, PHP и Python; и каждый файл на одном из этих языков программирования будет считаться кандидатом для проверки.</p>
<p>Имеются несколько параметров, которые могут быть переданы в дополнение к имени каталога; они описаны
справочной странице.</p>
<p>Наиболее полезными параметрами являются те, которые изменяют вывод; среди них следующие:</p>
<ul>
<li>--warning &lt;уровень&gt; (Установить уровень утечек, которые будут выведены в результате работы программы)
<ul>
<li>1 включает лишь высокую строгость и строгость по умолчанию.</li>
<li>2 включает среднюю строгость (по умолчанию).</li>
<li>3 включает уязвимости низкой строгости.</li>
</ul></li>
<li>--xml (Вывод в XML)</li>
<li>--html (Вывод в HTML)</li>
</ul>
<p>Допустим, у нас имеется <a href="test.c.html">тестовый файл</a>, расположенный в текущем каталоге, в этом каталоге больше нет никаких файлов с исходным кодом, мы можем вызвать сканер следующей командой:</p>
<pre>
rats --warning 1 --html . &gt;output.html
</pre>
<p>Эта команда создаст HTML-файл, содержащий результаты сканирования, который может быть загружен браузером.</p>
<h2>Результаты</h2>
<p>Запуск RATS с нашим <a href="test.c.html">примером</a> выдает следующий вывод:</p>
<hr>
<div class="sampleblock">
<h3>Severity: High</h3>
<p>Issue: fixed size global buffer</p>
<p>
  Extra care should be taken to ensure that character arrays that are
  allocated on the stack are used safely. They are prime targets for
  buffer overflow attacks.
</p>
<p>
File: <b>test.c</b><br>
Lines: 10 11 12
</p>
<h3>Severity: High</h3>
<p>Issue: strcpy</p>
<p>
    Check to be sure that argument 2 passed to this function call will not
    copy more data than can be handled, resulting in a buffer overflow.
  </p>
<p>
File: <b>test.c</b><br>
Lines: 18
</p>
<h3>Severity: High</h3>
<p>Issue: getenv</p>
<p>Environment variables are highly untrustable input. They may be of any length, and contain any data. Do not make any assumptions regarding content or length. If at all possible avoid using them, and if it is necessary, sanitize them and truncate them to a reasonable length.
  </p>
<p>
File: <b>test.c</b><br>
Lines: 22 24 </p>
<h3>Severity: High</h3>
<p>Issue: sprintf</p>
<p>
    Check to be sure that the format string passed as argument 2 to this
    function call does not come from an untrusted source that could have added
    formatting characters that the code is not prepared to handle.
    Additionally, the format string could contain `%s' without precision that
    could result in a buffer overflow.
</p>
<p>
File: <b>test.c</b><br>
Lines: 24 </p>
<h3>Severity: High</h3>
<p>Issue: popen</p>
<p>
    Argument 1 to this function call should be checked to ensure that it does
    not come from an untrusted source without first verifying that it contains
    nothing dangerous.
</p>
<p>
File: <b>test.c</b><br>
Lines: 33 </p>
<h3>Severity: High</h3>
<p> Issue: printf</p>
<p>
    Check to be sure that the non-constant format string passed as argument 1
    to this function call does not come from an untrusted source that could
    have added formatting characters that the code is not prepared to handle.
</p>
<p>
File: <b>test.c</b><br>
Lines: 42 </p>
<p>
Total lines analyzed: <b>49</b><br>
Total time <b>0.000288</b> seconds<br>
<b>170138</b> lines per second</p>
</div>
<hr>
<p>Этот вывод очень велик, хотя сам по себе код очень короткий; это демонстрирует один из недостатков автоматического сканирования &mdash; большой размер вывода.</p>
<h2>Анализ вывода</h2>
<p>Вывод, который был произведён, является по сути описанием функций, которые были обнаружены, номером строки, в которой была обнаружена утечка, и описанием проблемы. (Поскольку мы использовали параметр «--warning» для ограничения вывода только «высоким» уровнем функций, мы немного сократили вывод.)</p>
<p>Каждую из обнаруженных проблем следует изучить вручную на предмет того, имеется ли там что-то неправильное или это было ложное срабатывание (напр., функция, которая может быть использована неправильно, была использована правильно).</p>
<p>В нашем случае мы можем видеть, что были обнаружены все уязвимости в нашем коде, но это не совсем ясно, если только не просмотреть соответствующие строки кода с помощью редактора.</p>
<p>Одним из упущений этой программы является то, что она не указывает строки целиком (это позволяет сделать <a href="flawfinder">flawfinder</a>).</p>
<hr>
<p><a href="..">Назад на страницу проекта по аудиту</a> | <a href="index">Назад на страницу примеров аудита</a></p>
<div class="clr"></div>
</div> <!-- end content -->
<div id="footer">
<hr class="hidecss">
<p>Назад на домашнюю страницу проекта <a href="../../../">Debian</a>.</p>
<hr>
<!--UdmComment-->
<div id="pageLang">
<div id="langSelector">
Эта страница также доступна на следующих языках:
<div id="langContainer">
 <a href="RATS.de.html" title="Немецкий" hreflang="de" lang="de" rel="alternate">Deutsch</a>
 <a href="RATS.en.html" title="Английский" hreflang="en" lang="en" rel="alternate">English</a>
 <a href="RATS.es.html" title="Испанский" hreflang="es" lang="es" rel="alternate">espa&ntilde;ol</a>
 <a href="RATS.fr.html" title="Французский" hreflang="fr" lang="fr" rel="alternate">fran&ccedil;ais</a>
 <a href="RATS.nl.html" title="Голландский" hreflang="nl" lang="nl" rel="alternate">Nederlands</a>
 <a href="RATS.pt.html" title="Португальский" hreflang="pt" lang="pt" rel="alternate">Portugu&ecirc;s</a>
</div>
Как установить <a href="../../../intro/cn">язык по умолчанию</a>
</div></div><!--/UdmComment-->
<hr>
<div id="footermap">
<!--UdmComment-->
<p><strong><a href="/">В&nbsp;начало</a></strong></p>
    <ul id="footermap-cola">
		<li><a href="../../../intro/about">О&nbsp;Debian</a>
		  <ul>
		  <li><a href="../../../social_contract">Общественный договор</a></li>
		  <li><a href="../../../code_of_conduct">Кодекс поведения</a></li>
		  <li><a href="../../../intro/free">Свободное ПО</a></li>
		  <li><a href="../../../partners/">Партнёры</a></li>
		  <li><a href="../../../donations">Пожертвования</a></li>
          <li><a href="../../../legal">Юридическая информация</a></li>
          <li><a href="../../../legal/privacy">Защита персональных данных</a></li>
		  <li><a href="../../../contact">Как с нами связаться</a></li>
		  </ul>
		</li>
        <li><a href="../../../intro/help">Как помочь Debian</a></li>
    </ul>
	<ul id="footermap-colb">
			<li><a href="../../../distrib/">Где взять Debian</a>
			  <ul>
			  <li><a href="../../../distrib/netinst">Установка по сети</a></li>
			  <li><a href="../../../CD/">ISO-образы CD/USB</a></li>
			  <li><a href="../../../CD/vendors/">Поставщики CD</a></li>
			  <li><a href="../../../distrib/pre-installed">Предустановка</a></li>
			  </ul>
			</li>
            <li><a href="../../../blends/">Чистые смеси</a></li>
			<li><a href="../../../distrib/packages">Пакеты Debian</a></li>
			<li><a href="../../../devel/">Уголок разработчика</a></li>
	</ul>
	<ul id="footermap-colc">
		<li><a href="../../../News/">Новости</a>
		  <ul>
		  <li><a href="../../../News/weekly/">Новости проекта</a></li>
		  <li><a href="../../../events/">События</a></li>
		  </ul>
		</li>
    <li><a href="../../../doc/">Документация</a>
      <ul>
      <li><a href="../../../releases/">Информация о выпусках</a></li>
      <li><a href="../../../releases/stable/installmanual">Инструкции по установке</a></li>
      <li><a href="../../../doc/books">Книги о Debian</a></li>
      <li><a href="https://wiki.debian.org/">Вики-страницы Debian</a></li>
      </ul>
    </li>
   </ul>
   <ul id="footermap-cold">
    <li><a href="../../../support">Поддержка</a>
	  <ul>
			  <li><a href="../../../international/">Международный Debian</a></li>
			  <li><a href="../../../security/">Информация о безопасности</a></li>
			  <li><a href="../../../Bugs/">Сообщения об ошибках</a></li>
			  <li><a href="../../../MailingLists/">Списки рассылки</a></li>
			  <li><a href="https://lists.debian.org/">Архивы списков рассылки</a></li>
			  <li><a href="../../../ports/">Перенос на другие архитектуры</a></li>
      </ul>
    </li>
</ul>
<ul id="footermap-cole">
  <li><a href="../../../sitemap">Карта сайта</a></li>
  <li><a href="https://search.debian.org/">Поиск</a></li>
  <li><a href="https://bits.debian.org">Блог Debian</a></li>
  <li><a href="https://micronews.debian.org">Микроновости Debian</a></li>
  <li><a href="https://planet.debian.org">Планета Debian</a></li>
</ul>
<!--/UdmComment-->
</div> <!-- end footermap -->
<div id="fineprint">
  <p>Чтобы сообщить о проблеме, связанной с веб-сайтом, отправьте сообщение (на английском) в публичный список рассылки по адресу <a href="mailto:debian-www@lists.debian.org">debian-www@lists.debian.org</a>. Об ошибках в русском переводе сообщайте в русскоязычный список рассылки <a href="mailto:debian-l10n-russian@lists.debian.org">debian-l10n-russian@lists.debian.org</a>. Прочую контактную информацию см. на странице <a href="../../../contact">Как с нами связаться</a>. Также доступен <a href="https://salsa.debian.org/webmaster-team/webwml">исходный код сайта</a>.</p>
<p>
Последнее изменение: Сбт, 19 Сен 2020, 05:49:02 UTC
&emsp;
Последняя сборка: Птн, 11 Июн 2021, 18:55:43 UTC
  <br>
  Авторские права &copy; 1997-2020
 <a href="https://www.spi-inc.org/">SPI</a> и другие; См. <a href="../../../license" rel="copyright">условия лицензии</a><br>
  Debian является зарегистрированным <a href="../../../trademark">товарным знаком</a> компании Software in the Public Interest, Inc. (Программное обеспечение в интересах общества)
</p>
</div>
</div> <!-- end footer -->
</body>
</html>
